<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2 CEREBRO â€” Extrator de Texto</title>
  <link rel="stylesheet" href="/static/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <header class="header">
    <div class="logo"><span class="logo-icon">ğŸ§ </span><span class="logo-text">2 <strong>CEREBRO</strong></span></div>
    <div class="header-right">
      <span class="stat-badge" id="stat-fotos">0 fotos</span>
      <span class="stat-badge" id="stat-palavras">0 palavras</span>
      <button class="btn-theme" onclick="toggleTheme()"><span id="theme-icon">â˜€ï¸</span></button>
    </div>
  </header>
  <div class="dev-credit">Desenvolvido por FÃ¡bio Rosestolato</div>

  <main class="main">
    <div class="ocr-workspace">
      <div class="ocr-single">
        <div class="ocr-left">
          <div class="photo-drop" id="photo-drop" onclick="document.getElementById('photo-input').click()" ondragover="handleDragOver(event)" ondrop="handleDrop(event)" ondragleave="handleDragLeave(event)">
            <img id="preview-img" style="display:none">
            <div class="drop-text" id="drop-text">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
              <p>Clique ou arraste uma foto</p>
            </div>
          </div>
          <input type="file" id="photo-input" accept="image/*" hidden onchange="handlePhotoSelect(this)">
          <div class="ocr-buttons"><button class="btn-extrair" id="btn-extrair" onclick="executarOCR()" disabled>âš¡ Extrair Texto</button><button class="btn-apagar" id="btn-apagar" onclick="clearPhoto()" disabled>ğŸ—‘ï¸ Trocar Foto</button></div>
        </div>
        <div class="ocr-right">
          <textarea id="ocr-text" placeholder="O texto extraÃ­do aparecerÃ¡ aqui..."></textarea>
          <div class="ocr-actions">
            <button class="btn-limpar" id="btn-limpar" onclick="limparTexto()" disabled>ğŸ§¹ Limpar</button>
            <button class="btn-salvar" id="btn-salvar" onclick="salvarTexto()" disabled>ğŸ’¾ Salvar</button>
          </div>
          <div class="ocr-status" id="ocr-status"></div>
        </div>
      </div>
    </div>

    <div class="bottom-panel">
      <aside class="sidebar">
        <div class="sidebar-section">
          <h3>ğŸ“ Importar</h3>
          <input type="file" id="input-fotos" multiple accept="image/*" hidden>
          <button class="btn-add" onclick="document.getElementById('input-fotos').click()">+ Adicionar Fotos</button>
        </div>
        <div class="sidebar-section">
          <h3>ğŸ· Categorias</h3>
          <div id="grupos-filtro"></div>
        </div>
        <div class="sidebar-section">
          <h3>ğŸ”‘ Palavras</h3>
          <div id="top-palavras-sidebar"></div>
        </div>
      </aside>

      <div class="content">
        <div class="tabs">
          <button class="tab active" onclick="trocarAba('galeria', this)">ğŸ“· Galeria</button>
          <button class="tab" onclick="trocarAba('brain', this)">ğŸ§  Brain Map</button>
          <div class="filters">
            <button class="filter active" data-status="todos" onclick="filtrarStatus('todos', this)">Todas</button>
            <button class="filter" data-status="pendente" onclick="filtrarStatus('pendente', this)">Pendentes</button>
            <button class="filter" data-status="ocr_feito" onclick="filtrarStatus('ocr_feito', this)">Processadas</button>
          </div>
        </div>
        <div id="tab-galeria" class="tab-content">
          <div class="galeria" id="galeria-grid"></div>
        </div>
        <div id="tab-brain" class="tab-content" style="display:none">
          <div class="word-cloud" id="word-cloud"></div>
          <div class="palavras-grid" id="top-palavras"></div>
        </div>
      </div>
    </div>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>
